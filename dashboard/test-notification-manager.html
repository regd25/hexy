<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test NotificationManager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <h1>Test NotificationManager</h1>
        <div id="test-container">
            <button id="test-show">Test show()</button>
            <button id="test-success">Test showSuccess()</button>
            <button id="test-error">Test showError()</button>
            <button id="test-warning">Test showWarning()</button>
            <button id="test-info">Test showInfo()</button>
            <button id="test-custom">Test custom()</button>
            <button id="test-persistent">Test persistent()</button>
            <button id="test-clear">Test clearAll()</button>
            <button id="test-events">Test EventBus Integration</button>
            <div id="test-output"></div>
        </div>
    </div>

    <script type="module">
        import { EventBus } from './components/utils/events/EventBus.js';
        import { EVENT_TYPES } from './components/utils/events/EventTypes.js';
        import { NotificationManager } from './components/utils/notifications/NotificationManager.js';

        document.addEventListener('DOMContentLoaded', () => {
            console.log('Test NotificationManager: Starting...');
            
            const eventBus = new EventBus();
            const notificationManager = new NotificationManager(eventBus);
            
            // Test show method
            document.getElementById('test-show').addEventListener('click', () => {
                notificationManager.show('Test notification with show()', 'info');
            });
            
            // Test showSuccess method
            document.getElementById('test-success').addEventListener('click', () => {
                notificationManager.showSuccess('Success notification!');
            });
            
            // Test showError method
            document.getElementById('test-error').addEventListener('click', () => {
                notificationManager.showError('Error notification!');
            });
            
            // Test showWarning method
            document.getElementById('test-warning').addEventListener('click', () => {
                notificationManager.showWarning('Warning notification!');
            });
            
            // Test showInfo method
            document.getElementById('test-info').addEventListener('click', () => {
                notificationManager.showInfo('Info notification!');
            });
            
            // Test custom method
            document.getElementById('test-custom').addEventListener('click', () => {
                notificationManager.custom('Custom notification!', {
                    background: 'linear-gradient(to right, #8b5cf6, #a855f7)',
                    fontSize: '16px'
                });
            });
            
            // Test persistent method
            document.getElementById('test-persistent').addEventListener('click', () => {
                notificationManager.persistent('Persistent notification - click to close', 'warning');
            });
            
            // Test clearAll method
            document.getElementById('test-clear').addEventListener('click', () => {
                notificationManager.clearAll();
            });
            
            // Test EventBus integration
            document.getElementById('test-events').addEventListener('click', () => {
                eventBus.publish(EVENT_TYPES.SUCCESS_SHOWN, { message: 'Event-driven success!' });
                eventBus.publish(EVENT_TYPES.ERROR_OCCURRED, { message: 'Event-driven error!' });
                eventBus.publish(EVENT_TYPES.WARNING_SHOWN, { message: 'Event-driven warning!' });
                eventBus.publish(EVENT_TYPES.INFO_SHOWN, { message: 'Event-driven info!' });
            });
            
            console.log('Test NotificationManager: Ready');
        });
    </script>
</body>
</html> 